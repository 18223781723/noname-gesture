<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport"
		content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>NonameGesture</title>
	<link rel="icon" type="image/x-icon" href="images/favicon.ico">
	<link rel="stylesheet" href="css/demo.css">
</head>

<body>
	<div class="container">
		<img src="images/image.jpg" alt="">
	</div>

	<!-- <script src="../dist/noname-gesture.js"></script> -->
	<script src="js/noname-gesture.js"></script>
	<script>
		// pinch
		const pinchDom = document.querySelector('div.container img');
		let x, y, scale = 1;
		const pinchGesture = new NonameGesture(pinchDom, {
			pinch: function (e) {
				scale *= e._scale;
				x -= (e._scale - 1) * (e._centerX - x) - (e._scale - 1) * result.width * 0.5 - (e._centerX - e._lastCenterX);
				y -= (e._scale - 1) * (e._centerY - y) - (e._scale - 1) * result.height * 0.5 - (e._centerY - e._lastCenterY);
				pinchDom.style.transform = 'translate3d(' + x + 'px, ' + y + 'px, 0px) scale(' + scale + ')';
			}
		});
		const result = pinchGesture.getImgSize(pinchDom.naturalWidth, pinchDom.naturalHeight, window.innerWidth, window.innerHeight);
		pinchDom.style.width = result.width + 'px';
		pinchDom.style.height = result.height + 'px';
		x = (window.innerWidth - result.width) * 0.5;
		y = (window.innerHeight - result.height) * 0.5;
		pinchDom.style.transform = 'translate3d(' + x + 'px, ' + y + 'px, 0px) scale(1)';
	</script>
</body>

</html>